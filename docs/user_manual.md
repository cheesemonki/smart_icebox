# 智能冰箱控制器 用户手册

## 1. 产品简介

### 1.1 产品概述

智能冰箱控制器是一款集成了图像采集、温湿度监测、远程控制等功能的智能家居设备。通过 ESP32-CAM 开发板、Air780E 模块等硬件，实现对冰箱内部环境的实时监控和管理。本产品采用先进的图像识别技术，能够自动识别冰箱内物品，提供智能化的存储建议。

### 1.2 硬件组成

- **ESP32-CAM 开发板**：核心控制单元
- **Air780E 模块**：无线通信模块
- **OV2640 摄像头**：图像采集
- **ILI9341 触摸屏**：人机交互
- **AHT10 温湿度传感器**：环境监测

### 1.3 软件环境

- **操作系统**：MicroPython
- **开发环境**：Thonny（推荐）、Vscode
- **网络协议**：MQTT、HTTP、TCP/IP

## 2. 安装与配置

### 2.1 硬件连接

#### ESP32-CAM 与 Air780E 连接:
- **GPIO**: 将 ESP32-CAM 的 UART TX 连接到 Air780E 的 RX（引脚编号：RXD），UART RX 连接到 Air780E 的 TX（引脚编号：TXD）。
- **电源**: ESP32-CAM 的 VCC 连接到 3.3V，GND 连接到 GND。
- **其他连接**: SPI 接口用于摄像头数据传输，具体引脚如下：
    - SCK -> GPIO14
    - MISO -> GPIO12
    - MOSI -> GPIO13
    - CS -> GPIO15
    - RES -> GPIO4
    - XCLK -> GPIO0

#### AHT10 温湿度传感器连接:
- **SCL**: 连接到 ESP32-CAM 的 GPIO22
- **SDA**: 连接到 ESP32-CAM 的 GPIO21
- **VCC**: 连接到 3.3V
- **GND**: 连接到 GND

### 2.2 软件安装

- **安装 Thonny**: 从 [Thonny官方网站](https://thonny.org) 下载并安装。
- **安装 MicroPython 固件**: 按照 ESP32-CAM 开发板的官方说明，使用 esptool.py 工具将 MicroPython 固件烧录到开发板中。
```bash
  pip install umqtt.simple requests adafruit-circuitpython-ahtx0
  ```
  
### 2.3 配置网络

- 连接到设备的 Wi-Fi 热点。
- 使用 Thonny 连接到设备，并编辑配置文件（例如 `config.py`）。
- 配置 Wi-Fi SSID、密码、MQTT 服务器地址、华为 OBS 相关信息。

## 3. 使用指南

### 3.1 界面介绍

[插入触摸屏界面截图]

- **主界面**：显示冰箱内部实时图像、温湿度、报警状态等。
- **设置界面**：配置网络、报警阈值等。

### 3.2 功能操作

- **查看冰箱内部**: 主界面显示实时图像。
- **查看温湿度**: 主界面显示实时温湿度数据。
- **设置报警**: 在设置界面设置温度和湿度报警阈值。
- **修改网络配置**: 在设置界面修改 Wi-Fi 信息和 MQTT 服务器地址。

## 4. 维护与升级

### 4.1 固件升级

- 连接到设备的 Wi-Fi 热点。
- 使用 Thonny 连接到设备，并上传新的固件文件。
- 重启设备。

### 4.2 硬件维护

- 定期清洁设备。
- 检查连接线是否松动。

## 5. 常见问题解答

- **问：设备无法连接 Wi-Fi？**
  - **答**：检查 Wi-Fi 密码是否正确，设备是否在 Wi-Fi 信号覆盖范围内。
- ...

## 6. 附录

- **电路图**: [插入完整电路图]

